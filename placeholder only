if (!window.__cvCallHistoryInit) {
  window.__cvCallHistoryInit = true;

  // -------- DECLARE CALL HISTORY CONSTANTS -------- //
  const CALLHISTORY_REGEX       = /\/portal\/callhistory(?:[\/?#]|$)/;
  const CALLHISTORY_SELECTOR    = '#nav-callhistory a, #nav-call-history';
  const CALLHISTORY_SLOT        = 'div.callhistory-panel-main';
  const CALLHISTORY_IFRAME_ID   = 'cv-callhistory-iframe';

  const ICON_LISTEN             = 'https://raw.githubusercontent.com/democlarityvoice-del/clickabledemo/refs/heads/main/speakericon.svg';
  const ICON_DOWNLOAD           = 'https://raw.githubusercontent.com/democlarityvoice-del/clickabledemo/refs/heads/main/download-solid-full.svg';
  const ICON_CRADLE             = 'https://raw.githubusercontent.com/democlarityvoice-del/clickabledemo/refs/heads/main/file-arrow-down-solid-full.svg';
  const ICON_NOTES              = 'https://raw.githubusercontent.com/democlarityvoice-del/clickabledemo/refs/heads/main/newspaper-regular-full.svg';
  const ICON_TRANSCRIPT         = 'https://raw.githubusercontent.com/democlarityvoice-del/clickabledemo/refs/heads/main/transcript.svg';
}

buildSrcdoc() {
  return `
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Call History Overlay</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: transparent;
      font-family: Arial, sans-serif;
    }

    #circular-icons {
      position: fixed;
      right: 50px;
      top: 50%;
      transform: translateY(-50%);
      pointer-events: none;
      z-index: 1000;
    }

    .circular-icon {
      position: absolute;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      border: 2px solid #333;
      transform: translate(-50%, -50%);
      pointer-events: auto;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    #action-panel {
      position: fixed;
      bottom: 50px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      background: rgba(255, 255, 255, 0.9);
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 1001;
    }

    .action-button {
      width: 40px;
      height: 40px;
      border: none;
      border-radius: 50%;
      background: #f8f9fa;
      cursor: pointer;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: all 0.2s ease;
    }

    .action-button img {
      width: 24px;
      height: 24px;
      pointer-events: none;
    }

    .tooltip {
      position: absolute;
      bottom: 120%;
      left: 50%;
      transform: translateX(-50%);
      background: #333;
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease;
      pointer-events: none;
      z-index: 1002;
    }

    .action-button:hover {
      background: #e9ecef;
      transform: scale(1.1);
    }

    .action-button:hover .tooltip {
      opacity: 1;
      visibility: visible;
    }
  </style>
</head>
<body>
  <div id="circular-icons"></div>
  <div id="action-panel"></div>
</body>
</html>
  `;
}


    
